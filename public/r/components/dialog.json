{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "dialog",
  "type": "registry:ui",
  "title": "Dialog",
  "description": "A customizable dialog component",
  "dependencies": [
    "class-variance-authority",
    "clsx",
    "tailwind-merge",
    "@base-ui-components/react",
    "motion"
  ],
  "files": [
    {
      "path": "src/registry/default/components/ui/dialog/index.tsx",
      "content": "\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { Dialog as DialogPrimitive } from \"@base-ui-components/react/dialog\";\r\nimport { AnimatePresence, motion } from \"motion/react\";\r\nimport { XIcon } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/classes\";\r\n\r\nconst animationPresets = {\r\n  none: {\r\n    initial: {},\r\n    animate: {},\r\n    exit: {},\r\n  },\r\n  fade: {\r\n    initial: {\r\n      opacity: 0,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n    },\r\n  },\r\n  scale: {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"scale(0.8)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"scale(1)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"scale(0.8)\",\r\n    },\r\n  },\r\n  \"top-flip\": {\r\n    initial: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateX(50deg) scale(0.8)`,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      filter: \"blur(0px)\",\r\n      transform: `perspective(1000px) rotateX(0deg) scale(1)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateX(50deg) scale(0.8)`,\r\n    },\r\n  },\r\n  \"bottom-flip\": {\r\n    initial: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateX(-50deg) scale(0.8)`,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      filter: \"blur(0px)\",\r\n      transform: `perspective(1000px) rotateX(0deg) scale(1)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateX(-50deg) scale(0.8)`,\r\n    },\r\n  },\r\n  \"right-flip\": {\r\n    initial: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateY(50deg) scale(0.8)`,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      filter: \"blur(0px)\",\r\n      transform: `perspective(1000px) rotateY(0deg) scale(1)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateY(50deg) scale(0.8)`,\r\n    },\r\n  },\r\n  \"left-flip\": {\r\n    initial: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateY(-50deg) scale(0.8)`,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      filter: \"blur(0px)\",\r\n      transform: `perspective(1000px) rotateY(0deg) scale(1)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      filter: \"blur(4px)\",\r\n      transform: `perspective(1000px) rotateY(-50deg) scale(0.8)`,\r\n    },\r\n  },\r\n  \"top-slide\": {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"translateY(-20px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"translateY(0)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"translateY(-20px)\",\r\n    },\r\n  },\r\n  \"bottom-slide\": {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"translateY(20px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"translateY(0)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"translateY(20px)\",\r\n    },\r\n  },\r\n  \"left-slide\": {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"translateX(-20px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"translateX(0)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"translateX(-20px)\",\r\n    },\r\n  },\r\n  \"right-slide\": {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"translateX(20px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"translateX(0)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"translateX(20px)\",\r\n    },\r\n  },\r\n  wipe: {\r\n    initial: {\r\n      clipPath: \"inset(0 0 100% 0)\",\r\n      transform: `scale(0.9)`,\r\n      opacity: 0,\r\n      filter: `blur(2px)`,\r\n    },\r\n    animate: {\r\n      clipPath: \"inset(0 0 0% 0)\",\r\n      transform: `scale(1)`,\r\n      opacity: 1,\r\n      filter: `blur(0px)`,\r\n    },\r\n    exit: {\r\n      clipPath: \"inset(0 0 100% 0)\",\r\n      transform: `scale(0.9)`,\r\n      opacity: 0,\r\n      filter: `blur(2px)`,\r\n    },\r\n  },\r\n} as const;\r\n\r\nconst transitionPresets = {\r\n  inExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.95, 0.05, 0.795, 0.035],\r\n  },\r\n  outExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  inOutExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [1, 0, 0, 1],\r\n  },\r\n  anticipate: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [1, -0.4, 0.35, 0.95],\r\n  },\r\n  quickOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0, 0, 0.2, 1],\r\n  },\r\n  overshootOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.175, 0.885, 0.32, 1.275],\r\n  },\r\n  swiftOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.175, 0.885, 0.32, 1.1],\r\n  },\r\n  snappyOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  in: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.42, 0, 1, 1],\r\n  },\r\n  out: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0, 0, 0.58, 1],\r\n  },\r\n  inOut: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.42, 0, 0.58, 1],\r\n  },\r\n  outIn: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.1, 0.7, 0.9, 0.5],\r\n  },\r\n  inQuad: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.55, 0.085, 0.68, 0.53],\r\n  },\r\n  outQuad: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.25, 0.46, 0.45, 0.94],\r\n  },\r\n  inOutQuad: {\r\n    type: \"tween\",\r\n    duration: 0.32,\r\n    ease: [0.455, 0.03, 0.515, 0.955],\r\n  },\r\n  inCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.55, 0.055, 0.675, 0.19],\r\n  },\r\n  outCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.215, 0.61, 0.355, 1],\r\n  },\r\n  inOutCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.645, 0.045, 0.355, 1],\r\n  },\r\n  inQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.895, 0.03, 0.685, 0.22],\r\n  },\r\n  outQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.165, 0.84, 0.44, 1],\r\n  },\r\n  inOutQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.77, 0, 0.175, 1],\r\n  },\r\n  inQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.755, 0.05, 0.855, 0.06],\r\n  },\r\n  outQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.23, 1, 0.32, 1],\r\n  },\r\n  inOutQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.86, 0, 0.07, 1],\r\n  },\r\n  inCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.6, 0.04, 0.98, 0.335],\r\n  },\r\n  outCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.075, 0.82, 0.165, 1],\r\n  },\r\n  inOutCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.785, 0.135, 0.15, 0.86],\r\n  },\r\n  inOutBase: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.25, 0.1, 0.25, 1],\r\n  },\r\n} as const;\r\n\r\ntype AnimationPreset = keyof typeof animationPresets;\r\ntype TransitionPreset = keyof typeof transitionPresets;\r\n\r\ninterface DialogContextType {\r\n  open: boolean;\r\n  onOpenChange: DialogProps[\"onOpenChange\"];\r\n  modal: DialogProps[\"modal\"];\r\n}\r\n\r\nconst DialogContext = createContext<DialogContextType | undefined>(undefined);\r\n\r\nfunction useDialog() {\r\n  const context = useContext(DialogContext);\r\n  if (!context) {\r\n    throw new Error(\"useDialog must be used within a DialogProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface DialogProps\r\n  extends React.ComponentProps<typeof DialogPrimitive.Root> {}\r\n\r\nfunction Dialog({\r\n  open,\r\n  defaultOpen,\r\n  onOpenChange,\r\n  modal = true,\r\n  ...props\r\n}: DialogProps) {\r\n  const [isOpen, setIsOpen] = useState(open ?? defaultOpen ?? false);\r\n\r\n  useEffect(() => {\r\n    if (open !== undefined) setIsOpen(open);\r\n  }, [open]);\r\n\r\n  const handleOpenChange: DialogProps[\"onOpenChange\"] = (\r\n    open,\r\n    eventDetails\r\n  ) => {\r\n    setIsOpen(open);\r\n    onOpenChange?.(open, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <DialogContext.Provider\r\n      value={{ open: isOpen, onOpenChange: handleOpenChange, modal }}\r\n    >\r\n      <DialogPrimitive.Root\r\n        data-slot=\"dialog\"\r\n        open={isOpen}\r\n        onOpenChange={handleOpenChange}\r\n        modal={modal}\r\n        {...props}\r\n      />\r\n    </DialogContext.Provider>\r\n  );\r\n}\r\n\r\ninterface DialogTriggerProps\r\n  extends Omit<React.ComponentProps<typeof DialogPrimitive.Trigger>, \"render\"> {\r\n  asChild?: boolean;\r\n}\r\n\r\nfunction DialogTrigger({\r\n  asChild = false,\r\n  children,\r\n  ...props\r\n}: DialogTriggerProps) {\r\n  if (asChild) {\r\n    return (\r\n      <DialogPrimitive.Trigger\r\n        data-slot=\"dialog-trigger\"\r\n        render={children as React.ReactElement<Record<string, unknown>>}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\r\n}\r\n\r\ninterface DialogPortalProps\r\n  extends React.ComponentProps<typeof DialogPrimitive.Portal> {}\r\n\r\nfunction DialogPortal(props: DialogPortalProps) {\r\n  const { open } = useDialog();\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <DialogPrimitive.Portal\r\n          data-slot=\"dialog-portal\"\r\n          keepMounted\r\n          {...props}\r\n        />\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\ninterface DialogBackdropProps\r\n  extends React.ComponentProps<typeof DialogPrimitive.Backdrop> {}\r\n\r\nfunction DialogBackdrop({ className, ...props }: DialogBackdropProps) {\r\n  return (\r\n    <DialogPrimitive.Backdrop\r\n      data-slot=\"dialog-backdrop\"\r\n      render={\r\n        <div\r\n          key=\"dialog-backdrop\"\r\n          className={cn(\r\n            \"fixed inset-0 bg-black z-100 opacity-20 transition-all duration-150 data-[ending-style]:opacity-0 data-[starting-style]:opacity-0 dark:opacity-70 supports-[-webkit-touch-callout:none]:absolute\",\r\n            className\r\n          )}\r\n        />\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface DialogPopupProps\r\n  extends React.ComponentProps<typeof DialogPrimitive.Popup> {\r\n  animationPreset?: AnimationPreset;\r\n  transitionPreset?: TransitionPreset;\r\n  reduceMotion?: boolean;\r\n  showCloseButton?: boolean;\r\n}\r\n\r\nfunction DialogPopup({\r\n  className,\r\n  animationPreset = \"scale\",\r\n  transitionPreset = \"quickOut\",\r\n  children,\r\n  reduceMotion = false,\r\n  showCloseButton = true,\r\n  ...rest\r\n}: DialogPopupProps) {\r\n  const { modal } = useDialog();\r\n\r\n  const animationConfig = useMemo(() => {\r\n    if (reduceMotion) return animationPresets.none;\r\n\r\n    if (animationPreset) {\r\n      return animationPresets[animationPreset];\r\n    }\r\n\r\n    return animationPresets.scale;\r\n  }, [animationPreset, reduceMotion]);\r\n\r\n  const transitionConfig = useMemo(() => {\r\n    if (reduceMotion) return {};\r\n\r\n    if (transitionPreset) {\r\n      return transitionPresets[transitionPreset];\r\n    }\r\n  }, [transitionPreset, reduceMotion]);\r\n\r\n  return (\r\n    <DialogPortal>\r\n      {modal && <DialogBackdrop />}\r\n      <DialogPrimitive.Popup\r\n        data-slot=\"dialog-popup\"\r\n        render={\r\n          <motion.div\r\n            key=\"dialog-popup\"\r\n            initial={animationConfig.initial}\r\n            animate={animationConfig.animate}\r\n            exit={animationConfig.exit}\r\n            transition={transitionConfig}\r\n            className={cn(\r\n              \"pointer-events-auto fixed top-1/2 left-1/2 z-100 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border border-border p-6 shadow-lg duration-200 sm:max-w-lg bg-muted\",\r\n              className\r\n            )}\r\n          >\r\n            {children}\r\n            {showCloseButton && (\r\n              <DialogPrimitive.Close\r\n                data-slot=\"dialog-close\"\r\n                className=\"ring-offset-background focus:ring-ring data-[open]:bg-accent data-[open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n              >\r\n                <XIcon />\r\n                <span className=\"sr-only\">Close</span>\r\n              </DialogPrimitive.Close>\r\n            )}\r\n          </motion.div>\r\n        }\r\n        {...rest}\r\n      />\r\n    </DialogPortal>\r\n  );\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn(\"text-lg leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface DialogCloseProps\r\n  extends React.ComponentProps<typeof DialogPrimitive.Close> {}\r\n\r\nfunction DialogClose(props: DialogCloseProps) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogPopup,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogBackdrop,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n};\r\n",
      "type": "registry:ui"
    }
  ]
}