{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "menu",
  "type": "registry:ui",
  "title": "Menu",
  "description": "A customizable menu component",
  "dependencies": [
    "@base-ui-components/react",
    "motion",
    "clsx",
    "tailwind-merge"
  ],
  "files": [
    {
      "path": "src/registry/default/components/ui/menu/index.tsx",
      "content": "\"use client\";\r\n\r\nimport { createContext, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { Menu as MenuPrimitive } from \"@base-ui-components/react/menu\";\r\nimport { AnimatePresence, LayoutGroup, motion } from \"motion/react\";\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\r\n\r\nimport { cn } from \"@/lib/classes\";\r\n\r\nconst animationPresets = {\r\n  none: {\r\n    initial: {},\r\n    animate: {},\r\n    exit: {},\r\n  },\r\n  scale: {\r\n    initial: {\r\n      opacity: 0,\r\n      transform: \"scale(0.8)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      transform: \"scale(1)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      transform: \"scale(0.8)\",\r\n    },\r\n  },\r\n  wipe: {},\r\n  wipeScale: {},\r\n  motion: {},\r\n  motionBlur: {},\r\n  slideOutside: {},\r\n  slideInside: {},\r\n};\r\n\r\nfunction getWipeAnimation(side: PopupSide) {\r\n  const wipeConfigs = {\r\n    top: {\r\n      initial: {\r\n        clipPath: \"inset(100% 0 0 0 round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(100% 0 0 0 round 12px)\",\r\n      },\r\n    },\r\n    right: {\r\n      initial: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n      },\r\n    },\r\n    bottom: {\r\n      initial: {\r\n        clipPath: \"inset(0 0 100% 0 round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 100% 0 round 12px)\",\r\n      },\r\n    },\r\n    left: {\r\n      initial: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n      },\r\n    },\r\n    \"inline-start\": {\r\n      initial: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n      },\r\n    },\r\n    \"inline-end\": {\r\n      initial: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n      },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return wipeConfigs[side];\r\n  }\r\n\r\n  return wipeConfigs.bottom;\r\n}\r\n\r\nfunction getWipeScaleAnimation(side: PopupSide) {\r\n  const wipeConfigs = {\r\n    top: {\r\n      initial: {\r\n        clipPath: \"inset(100% 0 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(100% 0 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n    right: {\r\n      initial: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n    bottom: {\r\n      initial: {\r\n        clipPath: \"inset(0 0 100% 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 100% 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n    left: {\r\n      initial: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n    \"inline-start\": {\r\n      initial: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 0 0 100% round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n    \"inline-end\": {\r\n      initial: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n      animate: {\r\n        clipPath: \"inset(0 0 0 0 round 12px)\",\r\n        scale: 1,\r\n      },\r\n      exit: {\r\n        clipPath: \"inset(0 100% 0 0 round 12px)\",\r\n        scale: 0.8,\r\n      },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return wipeConfigs[side];\r\n  }\r\n\r\n  return wipeConfigs.bottom;\r\n}\r\n\r\nfunction getMotionAnimation(side: PopupSide) {\r\n  const motionConfigs = {\r\n    top: {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateX(70deg) scale(0.56) translateY(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateX(0deg) scale(1) translateY(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateX(70deg) scale(0.56) translateY(7px)`,\r\n      },\r\n    },\r\n    right: {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n    },\r\n    bottom: {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateX(-40deg) scale(0.56) translateY(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateX(0deg) scale(1) translateY(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateX(-40deg) scale(0.56) translateY(-7px)`,\r\n      },\r\n    },\r\n    left: {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n    },\r\n    \"inline-end\": {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n    },\r\n    \"inline-start\": {\r\n      initial: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return motionConfigs[side];\r\n  }\r\n\r\n  return motionConfigs.bottom;\r\n}\r\n\r\nfunction getMotionBlurAnimation(side: PopupSide) {\r\n  const motionBlurConfigs = {\r\n    top: {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateX(70deg) scale(0.56) translateY(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateX(0deg) scale(1) translateY(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateX(70deg) scale(0.56) translateY(7px)`,\r\n      },\r\n    },\r\n    right: {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n    },\r\n    bottom: {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateX(-40deg) scale(0.56) translateY(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateX(0deg) scale(1) translateY(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateX(-40deg) scale(0.56) translateY(-7px)`,\r\n      },\r\n    },\r\n    left: {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n    },\r\n    \"inline-start\": {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(-40deg) scale(0.56) translateX(-7px)`,\r\n      },\r\n    },\r\n    \"inline-end\": {\r\n      initial: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n      animate: {\r\n        opacity: 1,\r\n        filter: \"blur(0px)\",\r\n        transform: `perspective(1000px) rotateY(0deg) scale(1) translateX(0px)`,\r\n      },\r\n      exit: {\r\n        opacity: 0,\r\n        filter: \"blur(9px)\",\r\n        transform: `perspective(1000px) rotateY(40deg) scale(0.56) translateX(7px)`,\r\n      },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return motionBlurConfigs[side];\r\n  }\r\n\r\n  return motionBlurConfigs.bottom;\r\n}\r\n\r\nfunction getSlideOutsideAnimation(side: PopupSide) {\r\n  const slideOutsideConfigs = {\r\n    top: {\r\n      initial: { opacity: 0, y: -10 },\r\n      animate: { opacity: 1, y: 0 },\r\n      exit: { opacity: 0, y: -10 },\r\n    },\r\n    right: {\r\n      initial: { opacity: 0, x: 10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: 10 },\r\n    },\r\n    bottom: {\r\n      initial: { opacity: 0, y: 10 },\r\n      animate: { opacity: 1, y: 0 },\r\n      exit: { opacity: 0, y: 10 },\r\n    },\r\n    left: {\r\n      initial: { opacity: 0, x: -10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -10 },\r\n    },\r\n    \"inline-start\": {\r\n      initial: { opacity: 0, x: -10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -10 },\r\n    },\r\n    \"inline-end\": {\r\n      initial: { opacity: 0, x: 10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: 10 },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return slideOutsideConfigs[side];\r\n  }\r\n\r\n  return slideOutsideConfigs.bottom;\r\n}\r\n\r\nfunction getSlideInsideAnimation(side: PopupSide) {\r\n  const slideInsideConfigs = {\r\n    top: {\r\n      initial: { opacity: 0, y: 10 },\r\n      animate: { opacity: 1, y: 0 },\r\n      exit: { opacity: 0, y: 10 },\r\n    },\r\n    right: {\r\n      initial: { opacity: 0, x: -10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -10 },\r\n    },\r\n    bottom: {\r\n      initial: { opacity: 0, y: -10 },\r\n      animate: { opacity: 1, y: 0 },\r\n      exit: { opacity: 0, y: -10 },\r\n    },\r\n    left: {\r\n      initial: { opacity: 0, x: 10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: 10 },\r\n    },\r\n    \"inline-start\": {\r\n      initial: { opacity: 0, x: 10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: 10 },\r\n    },\r\n    \"inline-end\": {\r\n      initial: { opacity: 0, x: -10 },\r\n      animate: { opacity: 1, x: 0 },\r\n      exit: { opacity: 0, x: -10 },\r\n    },\r\n  };\r\n\r\n  if (side) {\r\n    return slideInsideConfigs[side];\r\n  }\r\n\r\n  return slideInsideConfigs.bottom;\r\n}\r\n\r\nconst transitionPresets = {\r\n  inExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.95, 0.05, 0.795, 0.035],\r\n  },\r\n  outExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  inOutExpo: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [1, 0, 0, 1],\r\n  },\r\n  anticipate: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [1, -0.4, 0.35, 0.95],\r\n  },\r\n  quickOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0, 0, 0.2, 1],\r\n  },\r\n  overshootOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.175, 0.885, 0.32, 1.275],\r\n  },\r\n  swiftOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.175, 0.885, 0.32, 1.1],\r\n  },\r\n  snappyOut: {\r\n    type: \"tween\",\r\n    duration: 0.4,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  in: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.42, 0, 1, 1],\r\n  },\r\n  out: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0, 0, 0.58, 1],\r\n  },\r\n  inOut: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.42, 0, 0.58, 1],\r\n  },\r\n  outIn: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.1, 0.7, 0.9, 0.5],\r\n  },\r\n  inQuad: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.55, 0.085, 0.68, 0.53],\r\n  },\r\n  outQuad: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.25, 0.46, 0.45, 0.94],\r\n  },\r\n  inOutQuad: {\r\n    type: \"tween\",\r\n    duration: 0.32,\r\n    ease: [0.455, 0.03, 0.515, 0.955],\r\n  },\r\n  inCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.55, 0.055, 0.675, 0.19],\r\n  },\r\n  outCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.215, 0.61, 0.355, 1],\r\n  },\r\n  inOutCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.645, 0.045, 0.355, 1],\r\n  },\r\n  inQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.895, 0.03, 0.685, 0.22],\r\n  },\r\n  outQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.165, 0.84, 0.44, 1],\r\n  },\r\n  inOutQuart: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.77, 0, 0.175, 1],\r\n  },\r\n  inQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.755, 0.05, 0.855, 0.06],\r\n  },\r\n  outQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.23, 1, 0.32, 1],\r\n  },\r\n  inOutQuint: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.86, 0, 0.07, 1],\r\n  },\r\n  inCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.6, 0.04, 0.98, 0.335],\r\n  },\r\n  outCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.075, 0.82, 0.165, 1],\r\n  },\r\n  inOutCirc: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.785, 0.135, 0.15, 0.86],\r\n  },\r\n  inOutBase: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.25, 0.1, 0.25, 1],\r\n  },\r\n} as const;\r\n\r\ntype AnimationPreset = keyof typeof animationPresets;\r\ntype TransitionPreset = keyof typeof transitionPresets;\r\n\r\ntype PopupSide = MenuPositionerProps[\"side\"];\r\n\r\ntype Backdrop = \"opaque\" | \"blur\" | \"transparent\";\r\n\r\ninterface MenuContextType {\r\n  open: boolean;\r\n  onOpenChange: MenuProps[\"onOpenChange\"];\r\n  modal: MenuProps[\"modal\"];\r\n  backdrop?: Backdrop;\r\n}\r\n\r\nconst MenuContext = createContext<MenuContextType | undefined>(undefined);\r\n\r\nfunction useMenu() {\r\n  const context = useContext(MenuContext);\r\n  if (!context) {\r\n    throw new Error(\"useMenu must be used within a MenuProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface MenuProps extends React.ComponentProps<typeof MenuPrimitive.Root> {\r\n  backdrop?: Backdrop;\r\n}\r\n\r\nfunction Menu({\r\n  open,\r\n  defaultOpen,\r\n  onOpenChange,\r\n  modal = false,\r\n  backdrop = \"transparent\",\r\n  ...props\r\n}: MenuProps) {\r\n  const [isOpen, setIsOpen] = useState(defaultOpen ?? open ?? false);\r\n\r\n  useEffect(() => {\r\n    if (open !== undefined) setIsOpen(open);\r\n  }, [open]);\r\n\r\n  const handleOpenChange: MenuProps[\"onOpenChange\"] = (open, eventDetails) => {\r\n    setIsOpen(open);\r\n    onOpenChange?.(open, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <MenuContext.Provider\r\n      value={{ open: isOpen, onOpenChange: handleOpenChange, modal, backdrop }}\r\n    >\r\n      <MenuPrimitive.Root\r\n        data-slot=\"menu\"\r\n        open={isOpen}\r\n        onOpenChange={handleOpenChange}\r\n        modal={modal}\r\n        {...props}\r\n      />\r\n    </MenuContext.Provider>\r\n  );\r\n}\r\n\r\ninterface MenuTriggerProps\r\n  extends Omit<React.ComponentProps<typeof MenuPrimitive.Trigger>, \"render\"> {\r\n  asChild?: boolean;\r\n}\r\n\r\nfunction MenuTrigger({\r\n  asChild = false,\r\n  children,\r\n  ...props\r\n}: MenuTriggerProps) {\r\n  if (asChild) {\r\n    return (\r\n      <MenuPrimitive.Trigger\r\n        data-slot=\"menu-trigger\"\r\n        render={children as React.ReactElement<Record<string, unknown>>}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n  return <MenuPrimitive.Trigger data-slot=\"menu-trigger\" {...props} />;\r\n}\r\n\r\ninterface MenuPortalProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Portal> {}\r\n\r\nfunction MenuPortal(props: MenuPortalProps) {\r\n  const { open } = useMenu();\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {open && (\r\n        <MenuPrimitive.Portal data-slot=\"menu-portal\" keepMounted {...props} />\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\ninterface MenuBackdropProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Backdrop> {}\r\n\r\nfunction MenuBackdrop({ className, ...props }: MenuBackdropProps) {\r\n  const { backdrop = \"transparent\" } = useMenu();\r\n\r\n  return (\r\n    <MenuPrimitive.Backdrop\r\n      data-slot=\"menu-backdrop\"\r\n      className={cn(\r\n        backdrop === \"opaque\" &&\r\n          \"fixed inset-0 bg-black z-100 opacity-40 transition-all duration-200 data-[ending-style]:opacity-0 data-[starting-style]:opacity-0 dark:opacity-60\",\r\n        backdrop === \"blur\" &&\r\n          \"fixed inset-0 z-100 backdrop-blur-sm transition-all duration-200 data-[ending-style]:opacity-0 data-[starting-style]:opacity-0\",\r\n        backdrop === \"transparent\" && \"hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface MenuPositionerProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Positioner> {}\r\n\r\nfunction MenuPositioner({\r\n  sideOffset = 4,\r\n  side = \"bottom\",\r\n  className,\r\n  ...rest\r\n}: MenuPositionerProps) {\r\n  return (\r\n    <MenuPortal>\r\n      <MenuBackdrop />\r\n      <MenuPrimitive.Positioner\r\n        sideOffset={sideOffset}\r\n        side={side}\r\n        data-slot=\"menu-positioner\"\r\n        className={cn(\r\n          \"z-100\",\r\n          (side === \"inline-end\" || side === \"inline-start\") &&\r\n            \"[&_[data-slot=menu-arrow]]:hidden\",\r\n          className\r\n        )}\r\n        {...rest}\r\n      />\r\n    </MenuPortal>\r\n  );\r\n}\r\n\r\ninterface MenuArrowProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Arrow> {}\r\n\r\nfunction MenuArrow({ className, ...rest }: MenuArrowProps) {\r\n  return (\r\n    <MenuPrimitive.Arrow\r\n      data-slot=\"menu-arrow\"\r\n      className={cn(\r\n        \"data-[side=bottom]:top-[-9px] data-[side=left]:right-[-14px] data-[side=left]:rotate-90 data-[side=right]:left-[-14px] data-[side=right]:-rotate-90 data-[side=top]:bottom-[-9px] data-[side=top]:rotate-180\",\r\n        className\r\n      )}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n\r\nfunction ArrowSvg(props: React.ComponentProps<\"svg\">) {\r\n  return (\r\n    <svg width=\"20\" height=\"10\" viewBox=\"0 0 20 10\" fill=\"none\" {...props}>\r\n      <path\r\n        d=\"M9.66437 2.60207L4.80758 6.97318C4.07308 7.63423 3.11989 8 2.13172 8H0V10H20V8H18.5349C17.5468 8 16.5936 7.63423 15.8591 6.97318L11.0023 2.60207C10.622 2.2598 10.0447 2.25979 9.66437 2.60207Z\"\r\n        className=\"fill-popover\"\r\n      />\r\n      <path\r\n        d=\"M10.3333 3.34539L5.47654 7.71648C4.55842 8.54279 3.36693 9 2.13172 9H0V8H2.13172C3.11989 8 4.07308 7.63423 4.80758 6.97318L9.66437 2.60207C10.0447 2.25979 10.622 2.2598 11.0023 2.60207L15.8591 6.97318C16.5936 7.63423 17.5468 8 18.5349 8H20V9H18.5349C17.2998 9 16.1083 8.54278 15.1901 7.71648L10.3333 3.34539Z\"\r\n        className=\"fill-border/60\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n\r\ninterface MenuPopupProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Popup>,\r\n    Pick<MenuPositionerProps, \"side\" | \"sideOffset\" | \"align\" | \"alignOffset\"> {\r\n  animationPreset?: AnimationPreset;\r\n  transitionPreset?: TransitionPreset;\r\n  reduceMotion?: boolean;\r\n  showArrow?: boolean;\r\n}\r\n\r\nfunction MenuPopup({\r\n  className,\r\n  animationPreset = \"scale\",\r\n  transitionPreset = \"snappyOut\",\r\n  reduceMotion = false,\r\n  showArrow = false,\r\n  side = \"bottom\",\r\n  sideOffset = 4,\r\n  align = \"center\",\r\n  alignOffset = 0,\r\n  children,\r\n  ...rest\r\n}: MenuPopupProps) {\r\n  const animationConfig = useMemo(() => {\r\n    if (reduceMotion) return animationPresets.none;\r\n\r\n    if (animationPreset) {\r\n      if (animationPreset === \"wipe\") {\r\n        return getWipeAnimation(side);\r\n      }\r\n      if (animationPreset === \"wipeScale\") {\r\n        return getWipeScaleAnimation(side);\r\n      }\r\n      if (animationPreset === \"motion\") {\r\n        return getMotionAnimation(side);\r\n      }\r\n      if (animationPreset === \"motionBlur\") {\r\n        return getMotionBlurAnimation(side);\r\n      }\r\n      if (animationPreset === \"slideOutside\") {\r\n        return getSlideOutsideAnimation(side);\r\n      }\r\n      if (animationPreset === \"slideInside\") {\r\n        return getSlideInsideAnimation(side);\r\n      }\r\n      return animationPresets[animationPreset];\r\n    }\r\n\r\n    return animationPresets.scale;\r\n  }, [animationPreset, reduceMotion, side]);\r\n\r\n  const transitionConfig = useMemo(() => {\r\n    if (reduceMotion) return {};\r\n\r\n    if (transitionPreset) {\r\n      return transitionPresets[transitionPreset];\r\n    }\r\n  }, [transitionPreset, reduceMotion]);\r\n\r\n  return (\r\n    <MenuPositioner\r\n      side={side}\r\n      sideOffset={sideOffset}\r\n      align={align}\r\n      alignOffset={alignOffset}\r\n    >\r\n      <MenuPrimitive.Popup\r\n        data-slot=\"menu-popup\"\r\n        render={\r\n          <motion.div\r\n            key=\"menu-popup\"\r\n            initial={animationConfig.initial}\r\n            animate={animationConfig.animate}\r\n            exit={animationConfig.exit}\r\n            transition={transitionConfig}\r\n            className={cn(\r\n              \"pointer-events-auto origin-(--transform-origin) bg-popover text-popover-foreground p-1 shadow-xs border border-border rounded-[12px] min-w-[8rem]\",\r\n              className\r\n            )}\r\n          >\r\n            {showArrow && (\r\n              <MenuArrow>\r\n                <ArrowSvg />\r\n              </MenuArrow>\r\n            )}\r\n            {children}\r\n          </motion.div>\r\n        }\r\n        {...rest}\r\n      />\r\n    </MenuPositioner>\r\n  );\r\n}\r\n\r\ninterface MenuGroupProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Group> {}\r\n\r\nfunction MenuGroup(props: MenuGroupProps) {\r\n  return <MenuPrimitive.Group data-slot=\"menu-group\" {...props} />;\r\n}\r\n\r\ninterface MenuGroupLabelProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.GroupLabel> {}\r\n\r\nfunction MenuGroupLabel({ className, ...rest }: MenuGroupLabelProps) {\r\n  return (\r\n    <MenuPrimitive.GroupLabel\r\n      data-slot=\"menu-group-label\"\r\n      className={cn(\r\n        \"px-2 py-1.5 text-xs font-medium text-muted-foreground\",\r\n        className\r\n      )}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n\r\nfunction MenuLabel({ className, ...props }: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"menu-label\"\r\n      className={cn(\r\n        \"px-2 py-1.5 text-xs font-medium text-muted-foreground\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface MenuItemProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Item> {}\r\n\r\nfunction MenuItem({ className, ...rest }: MenuItemProps) {\r\n  return (\r\n    <MenuPrimitive.Item\r\n      data-slot=\"menu-item\"\r\n      className={cn(\r\n        `border-[0.5px] border-transparent relative flex cursor-default items-center gap-2 rounded-[10px] px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,\r\n        `data-[highlighted]:z-0 data-[highlighted]:before:absolute data-[highlighted]:before:inset-x-0 data-[highlighted]:before:inset-y-0 data-[highlighted]:before:z-[-1] data-[highlighted]:before:rounded-sm data-[highlighted]:before:bg-accent/70 dark:data-[highlighted]:before:bg-accent data-[highlighted]:text-accent-foreground data-[highlighted]:before:border-border/30 data-[highlighted]:before:border`,\r\n        className\r\n      )}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n\r\nfunction MenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof MenuPrimitive.Separator>) {\r\n  return (\r\n    <MenuPrimitive.Separator\r\n      data-slot=\"menu-separator\"\r\n      className={cn(\"bg-border/30 -mx-1 my-1 h-[0.5px]\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface MenuCheckboxItemProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.CheckboxItem> {}\r\n\r\nfunction MenuCheckboxItem({\r\n  className,\r\n  children,\r\n  ...rest\r\n}: MenuCheckboxItemProps) {\r\n  return (\r\n    <MenuPrimitive.CheckboxItem\r\n      data-slot=\"menu-checkbox-item\"\r\n      className={cn(\r\n        `text-foreground border-[0.5px] border-transparent relative  flex cursor-default items-center gap-2 rounded-[10px] px-2 py-1.5 text-sm`,\r\n        `hover:bg-accent/70 focus-visible:bg-accent/70 dark:hover:bg-accent dark:focus-visible:bg-accent hover:text-accent-foreground hover:border-border/30 outline-hidden`,\r\n        className\r\n      )}\r\n      {...rest}\r\n    >\r\n      <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\r\n        <MenuPrimitive.CheckboxItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </MenuPrimitive.CheckboxItemIndicator>\r\n      </span>\r\n      {children}\r\n    </MenuPrimitive.CheckboxItem>\r\n  );\r\n}\r\n\r\ninterface MenuRadioGroupContextType {\r\n  selectedValue?: string;\r\n  activeIcon?: React.ReactNode;\r\n}\r\n\r\nconst MenuRadioGroupContext = createContext<MenuRadioGroupContextType>({});\r\n\r\ninterface MenuRadioGroupProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.RadioGroup> {\r\n  activeIcon?: React.ReactNode;\r\n}\r\n\r\nfunction MenuRadioGroup({\r\n  className,\r\n  activeIcon,\r\n  ...props\r\n}: MenuRadioGroupProps) {\r\n  const [selectedValue, setSelectedValue] = useState<string | undefined>(\r\n    props.value ?? undefined\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSelectedValue(props.value ?? undefined);\r\n  }, [props.value]);\r\n\r\n  const handleValueChange: MenuRadioGroupProps[\"onValueChange\"] = (\r\n    value,\r\n    eventDetails\r\n  ) => {\r\n    setSelectedValue(value);\r\n    props.onValueChange?.(value, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <MenuRadioGroupContext.Provider value={{ selectedValue, activeIcon }}>\r\n      <LayoutGroup>\r\n        <MenuPrimitive.RadioGroup\r\n          data-slot=\"menu-radio-group\"\r\n          {...props}\r\n          onValueChange={handleValueChange}\r\n        />\r\n      </LayoutGroup>\r\n    </MenuRadioGroupContext.Provider>\r\n  );\r\n}\r\n\r\nfunction MenuRadioItem({\r\n  className,\r\n  children,\r\n  value,\r\n  ...props\r\n}: React.ComponentProps<typeof MenuPrimitive.RadioItem>) {\r\n  const { selectedValue, activeIcon } = useContext(MenuRadioGroupContext);\r\n  const isSelected = selectedValue === value;\r\n\r\n  return (\r\n    <MenuPrimitive.RadioItem\r\n      data-slot=\"menu-radio-item\"\r\n      className={cn(\r\n        `text-foreground border-[0.5px] border-transparent relative  flex cursor-default items-center gap-2 rounded-[10px] px-2 py-1.5 text-sm`,\r\n        `hover:bg-accent/70 focus-visible:bg-accent/70 dark:hover:bg-accent dark:focus-visible:bg-accent hover:text-accent-foreground hover:border-border/30 outline-hidden`,\r\n        className\r\n      )}\r\n      value={value}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {isSelected && (\r\n        <motion.span\r\n          layoutId=\"dropdown-menu-radio-indicator\"\r\n          className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\"\r\n          style={{\r\n            willChange: \"transform\",\r\n          }}\r\n          transition={{\r\n            type: \"spring\",\r\n            stiffness: 300,\r\n            damping: 30,\r\n          }}\r\n        >\r\n          <MenuPrimitive.RadioItemIndicator>\r\n            {activeIcon ?? <CircleIcon className=\"size-2 fill-current\" />}\r\n          </MenuPrimitive.RadioItemIndicator>\r\n        </motion.span>\r\n      )}\r\n    </MenuPrimitive.RadioItem>\r\n  );\r\n}\r\n\r\nfunction MenuShortcut({ className, ...props }: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"menu-shortcut\"\r\n      className={cn(\r\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface MenuSubContextType {\r\n  isOpen?: boolean;\r\n}\r\n\r\nconst MenuSubContext = createContext<MenuSubContextType>({});\r\n\r\ninterface MenuSubProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.SubmenuRoot> {}\r\n\r\nfunction MenuSub(props: MenuSubProps) {\r\n  const [isOpen, setIsOpen] = useState(\r\n    props?.open ?? props?.defaultOpen ?? false\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (props?.open !== undefined) setIsOpen(props.open);\r\n  }, [props?.open]);\r\n\r\n  const handleOpenChange: MenuSubProps[\"onOpenChange\"] = (\r\n    open,\r\n    eventDetails\r\n  ) => {\r\n    setIsOpen(open);\r\n    props.onOpenChange?.(open, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <MenuSubContext.Provider value={{ isOpen }}>\r\n      <MenuPrimitive.SubmenuRoot\r\n        data-slot=\"menu-submenu\"\r\n        onOpenChange={handleOpenChange}\r\n        {...props}\r\n      />\r\n    </MenuSubContext.Provider>\r\n  );\r\n}\r\n\r\ninterface MenuSubTriggerProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.SubmenuTrigger> {}\r\n\r\nfunction MenuSubTrigger({ className, children, ...rest }: MenuSubTriggerProps) {\r\n  return (\r\n    <MenuPrimitive.SubmenuTrigger\r\n      data-slot=\"menu-submenu-trigger\"\r\n      className={cn(\r\n        `text-foreground border-[0.5px] border-transparent relative flex cursor-default items-center gap-2 rounded-[10px] px-2 py-1.5 text-sm`,\r\n        `hover:bg-accent/70 focus-visible:bg-accent/70 dark:hover:bg-accent dark:focus-visible:bg-accent hover:text-accent-foreground hover:border-border/30 data-[popup-open]:bg-accent/70 data-[popup-open]:text-accent-foreground data-[popup-open]:border-border/30 outline-hidden`,\r\n        className\r\n      )}\r\n      {...rest}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </MenuPrimitive.SubmenuTrigger>\r\n  );\r\n}\r\n\r\ninterface MenuSubmenuPortalProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Portal> {}\r\n\r\nfunction MenuSubmenuPortal(props: MenuSubmenuPortalProps) {\r\n  const { isOpen } = useContext(MenuSubContext);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <MenuPrimitive.Portal\r\n          data-slot=\"menu-submenu-portal\"\r\n          keepMounted\r\n          {...props}\r\n        />\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\ninterface MenuSubPositionerProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Positioner> {}\r\n\r\nfunction MenuSubPositioner({\r\n  sideOffset = 4,\r\n  side = \"right\",\r\n  className,\r\n  ...rest\r\n}: MenuSubPositionerProps) {\r\n  return (\r\n    <MenuSubmenuPortal>\r\n      <MenuPrimitive.Positioner\r\n        sideOffset={sideOffset}\r\n        side={side}\r\n        data-slot=\"menu-sub-positioner\"\r\n        className={cn(\r\n          \"z-100\",\r\n          (side === \"inline-end\" || side === \"inline-start\") &&\r\n            \"[&_[data-slot=menu-arrow]]:hidden\",\r\n          className\r\n        )}\r\n        {...rest}\r\n      />\r\n    </MenuSubmenuPortal>\r\n  );\r\n}\r\n\r\ninterface MenuSubPopupProps\r\n  extends React.ComponentProps<typeof MenuPrimitive.Popup>,\r\n    Pick<\r\n      MenuPositionerProps,\r\n      \"side\" | \"sideOffset\" | \"align\" | \"alignOffset\"\r\n    > {}\r\n\r\nfunction MenuSubPopup({\r\n  className,\r\n  children,\r\n  side = \"right\",\r\n  sideOffset = 4,\r\n  align = \"start\",\r\n  alignOffset = 0,\r\n  ...rest\r\n}: MenuSubPopupProps) {\r\n  return (\r\n    <MenuSubPositioner\r\n      side={side}\r\n      sideOffset={sideOffset}\r\n      align={align}\r\n      alignOffset={alignOffset}\r\n    >\r\n      <MenuPrimitive.Popup\r\n        data-slot=\"menu-sub-content\"\r\n        render={\r\n          <motion.div\r\n            key=\"menu-sub-content\"\r\n            variants={animationPresets.scale}\r\n            initial=\"initial\"\r\n            animate=\"animate\"\r\n            exit=\"exit\"\r\n            transition={{ duration: 0.1 }}\r\n            className={cn(\r\n              \"pointer-events-auto origin-(--transform-origin) bg-popover text-popover-foreground p-1 shadow-sm border border-border/60 rounded-[12px] !min-w-[max(8rem,calc(var(--anchor-width)-1rem))]\",\r\n              className\r\n            )}\r\n          >\r\n            {children}\r\n          </motion.div>\r\n        }\r\n        {...rest}\r\n      />\r\n    </MenuSubPositioner>\r\n  );\r\n}\r\n\r\nexport {\r\n  Menu,\r\n  MenuTrigger,\r\n  MenuPopup,\r\n  MenuGroup,\r\n  MenuGroupLabel,\r\n  MenuItem,\r\n  MenuSeparator,\r\n  MenuCheckboxItem,\r\n  MenuRadioGroup,\r\n  MenuRadioItem,\r\n  MenuSub,\r\n  MenuSubTrigger,\r\n  MenuSubPopup,\r\n  MenuShortcut,\r\n  MenuLabel,\r\n};\r\n",
      "type": "registry:ui"
    }
  ]
}