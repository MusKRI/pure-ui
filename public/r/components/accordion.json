{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "accordion",
  "type": "registry:ui",
  "title": "Accordion",
  "description": "A customizable button component",
  "dependencies": [
    "clsx",
    "tailwind-merge",
    "@base-ui-components/react",
    "motion"
  ],
  "registryDependencies": [
    "classes"
  ],
  "files": [
    {
      "path": "src/registry/default/components/ui/accordion/index.tsx",
      "content": "\"use client\";\r\n\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from \"react\";\r\nimport { Accordion as AccordionPrimitive } from \"@base-ui-components/react/accordion\";\r\nimport { motion, AnimatePresence, MotionConfig } from \"motion/react\";\r\n\r\nimport { cn } from \"@/registry/default/components/lib/classes\";\r\n\r\nconst animationPresets = {\r\n  none: {\r\n    initial: {},\r\n    animate: {},\r\n    exit: {},\r\n  },\r\n  fade: {\r\n    initial: { opacity: 0, height: 0 },\r\n    animate: { opacity: 1, height: `var(--accordion-panel-height)` },\r\n    exit: { opacity: 0, height: 0 },\r\n  },\r\n  perspective: {\r\n    initial: {\r\n      opacity: 0,\r\n      rotateX: -90,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: 0,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      rotateX: 0,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: `var(--accordion-panel-height)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      rotateX: -90,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: 0,\r\n    },\r\n  },\r\n  perspectiveBlur: {\r\n    initial: {\r\n      opacity: 0,\r\n      rotateX: -90,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: 0,\r\n      filter: \"blur(10px)\",\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      rotateX: 0,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: `var(--accordion-panel-height)`,\r\n      filter: \"blur(0px)\",\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      rotateX: -90,\r\n      transformOrigin: \"top center\",\r\n      transformPerspective: 1000,\r\n      height: 0,\r\n      filter: \"blur(10px)\",\r\n    },\r\n  },\r\n  scale: {\r\n    initial: {\r\n      opacity: 0,\r\n      scale: 0.9,\r\n      transformOrigin: \"center\",\r\n      height: 0,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      transformOrigin: \"center\",\r\n      height: `var(--accordion-panel-height)`,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: 0.9,\r\n      transformOrigin: \"center\",\r\n      height: 0,\r\n    },\r\n  },\r\n  slide: {\r\n    initial: {\r\n      opacity: 0,\r\n      height: 0,\r\n      y: 10,\r\n    },\r\n    animate: {\r\n      opacity: 1,\r\n      height: `var(--accordion-panel-height)`,\r\n      y: 0,\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      height: 0,\r\n      y: 10,\r\n    },\r\n  },\r\n} as const;\r\n\r\nconst transitionPresets = {\r\n  inExpo: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.95, 0.05, 0.795, 0.035],\r\n  },\r\n  outExpo: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  inOutExpo: {\r\n    type: \"tween\",\r\n    duration: 0.235,\r\n    ease: [1, 0, 0, 1],\r\n  },\r\n  quickOut: {\r\n    type: \"tween\",\r\n    duration: 0.2,\r\n    ease: [0, 0, 0.2, 1],\r\n  },\r\n  snappyOut: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.19, 1, 0.22, 1],\r\n  },\r\n  in: {\r\n    type: \"tween\",\r\n    duration: 0.235,\r\n    ease: [0.42, 0, 1, 1],\r\n  },\r\n  out: {\r\n    type: \"tween\",\r\n    duration: 0.185,\r\n    ease: [0, 0, 0.58, 1],\r\n  },\r\n  inOut: {\r\n    type: \"tween\",\r\n    duration: 0.225,\r\n    ease: [0.42, 0, 0.58, 1],\r\n  },\r\n  outIn: {\r\n    type: \"tween\",\r\n    duration: 0.235,\r\n    ease: [0.1, 0.7, 0.9, 0.5],\r\n  },\r\n  inQuad: {\r\n    type: \"tween\",\r\n    duration: 0.235,\r\n    ease: [0.55, 0.085, 0.68, 0.53],\r\n  },\r\n  outQuad: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.25, 0.46, 0.45, 0.94],\r\n  },\r\n  inOutQuad: {\r\n    type: \"tween\",\r\n    duration: 0.22,\r\n    ease: [0.455, 0.03, 0.515, 0.955],\r\n  },\r\n  inCubic: {\r\n    type: \"tween\",\r\n    duration: 0.26,\r\n    ease: [0.55, 0.055, 0.675, 0.19],\r\n  },\r\n  outCubic: {\r\n    type: \"tween\",\r\n    duration: 0.235,\r\n    ease: [0.215, 0.61, 0.355, 1],\r\n  },\r\n  inOutCubic: {\r\n    type: \"tween\",\r\n    duration: 0.35,\r\n    ease: [0.645, 0.045, 0.355, 1],\r\n  },\r\n  inQuart: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.895, 0.03, 0.685, 0.22],\r\n  },\r\n  outQuart: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.165, 0.84, 0.44, 1],\r\n  },\r\n  inOutQuart: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.77, 0, 0.175, 1],\r\n  },\r\n  inQuint: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.755, 0.05, 0.855, 0.06],\r\n  },\r\n  outQuint: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.23, 1, 0.32, 1],\r\n  },\r\n  inOutQuint: {\r\n    type: \"tween\",\r\n    duration: 0.26,\r\n    ease: [0.86, 0, 0.07, 1],\r\n  },\r\n  inCirc: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.6, 0.04, 0.98, 0.335],\r\n  },\r\n  outCirc: {\r\n    type: \"tween\",\r\n    duration: 0.27,\r\n    ease: [0.075, 0.82, 0.165, 1],\r\n  },\r\n  inOutCirc: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.785, 0.135, 0.15, 0.86],\r\n  },\r\n  inOutBase: {\r\n    type: \"tween\",\r\n    duration: 0.25,\r\n    ease: [0.25, 0.1, 0.25, 1],\r\n  },\r\n} as const;\r\n\r\ntype AnimationPreset = keyof typeof animationPresets;\r\ntype TransitionPreset = keyof typeof transitionPresets;\r\n\r\ntype AccordionVariant = \"default\" | \"outline\" | \"swiss\";\r\n\r\ninterface AccordionContextType {\r\n  animationPreset?: AnimationPreset;\r\n  transitionPreset?: TransitionPreset;\r\n  reduceMotion?: boolean;\r\n  value: AccordionProps[\"value\"];\r\n  onValueChange: AccordionProps[\"onValueChange\"];\r\n  variant?: AccordionVariant;\r\n}\r\n\r\nconst AccordionContext = createContext<AccordionContextType | undefined>(\r\n  undefined\r\n);\r\n\r\nfunction useAccordion() {\r\n  const context = useContext(AccordionContext);\r\n  if (!context) {\r\n    throw new Error(\"useAccordion must be used within a AccordionProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface AccordionProps\r\n  extends React.ComponentProps<typeof AccordionPrimitive.Root> {\r\n  animationPreset?: AnimationPreset;\r\n  transitionPreset?: TransitionPreset;\r\n  reduceMotion?: boolean;\r\n  variant?: AccordionVariant;\r\n}\r\n\r\nfunction Accordion({\r\n  value,\r\n  defaultValue,\r\n  onValueChange,\r\n  animationPreset = \"fade\",\r\n  transitionPreset = \"outCubic\",\r\n  reduceMotion,\r\n  variant = \"default\",\r\n  className,\r\n  multiple = false,\r\n  ...props\r\n}: AccordionProps) {\r\n  const [accordionValue, setAccordionValue] = useState(\r\n    value ?? defaultValue ?? []\r\n  );\r\n\r\n  const handleValueChange: AccordionProps[\"onValueChange\"] = (\r\n    value,\r\n    eventDetails\r\n  ) => {\r\n    setAccordionValue(value);\r\n    onValueChange?.(value, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <MotionConfig reducedMotion={reduceMotion ? \"always\" : \"never\"}>\r\n      <AccordionContext.Provider\r\n        value={{\r\n          value: accordionValue,\r\n          onValueChange: handleValueChange,\r\n          animationPreset,\r\n          transitionPreset,\r\n          reduceMotion,\r\n          variant,\r\n        }}\r\n      >\r\n        <AccordionPrimitive.Root\r\n          data-slot=\"accordion\"\r\n          value={accordionValue}\r\n          onValueChange={handleValueChange}\r\n          multiple={multiple}\r\n          className={cn(\r\n            \"w-full contain-layout\",\r\n            variant === \"outline\" &&\r\n              \"border border-border/60 rounded-2xl bg-popover shadow-sm\",\r\n            variant === \"swiss\" && \"rounded-2xl\",\r\n            className\r\n          )}\r\n          {...props}\r\n        />\r\n      </AccordionContext.Provider>\r\n    </MotionConfig>\r\n  );\r\n}\r\n\r\ninterface AccordionItemContextType {\r\n  open: boolean;\r\n  onOpenChange: AccordionItemProps[\"onOpenChange\"];\r\n}\r\n\r\nconst AccordionItemContext = createContext<\r\n  AccordionItemContextType | undefined\r\n>(undefined);\r\n\r\nfunction useAccordionItem() {\r\n  const context = useContext(AccordionItemContext);\r\n  if (!context) {\r\n    throw new Error(\r\n      \"useAccordionItem must be used within a AccordionItemProvider\"\r\n    );\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface AccordionItemProps\r\n  extends React.ComponentProps<typeof AccordionPrimitive.Item> {}\r\n\r\nfunction AccordionItem({\r\n  value: itemValue,\r\n  onOpenChange,\r\n  className,\r\n  ...rest\r\n}: AccordionItemProps) {\r\n  const { value, variant = \"default\" } = useAccordion();\r\n\r\n  const [isOpen, setIsOpen] = useState(value?.includes(itemValue) ?? false);\r\n\r\n  useEffect(() => {\r\n    setIsOpen(value?.includes(itemValue) ?? false);\r\n  }, [value, itemValue]);\r\n\r\n  const handleItemOpenChange: AccordionItemProps[\"onOpenChange\"] = (\r\n    open,\r\n    eventDetails\r\n  ) => {\r\n    setIsOpen(open);\r\n    onOpenChange?.(open, eventDetails);\r\n  };\r\n\r\n  return (\r\n    <AccordionItemContext.Provider\r\n      value={{ open: isOpen, onOpenChange: handleItemOpenChange }}\r\n    >\r\n      <AccordionPrimitive.Item\r\n        data-slot=\"accordion-item\"\r\n        value={itemValue}\r\n        onOpenChange={handleItemOpenChange}\r\n        className={cn(\r\n          `w-full contain-layout outline-hidden`,\r\n          // Base transitions - smooth all property changes\r\n          `[transition-property:border-radius,margin,border,transform,z-index]\r\n           duration-260\r\n           ease-[cubic-bezier(0.215,0.61,0.355,1)]\r\n           will-change-[border-radius,margin,border]`,\r\n          variant === \"default\" && \"border-b border-border/60 last:border-b-0\",\r\n          variant === \"outline\" &&\r\n            `border-b border-border/60 last:border-b-0 first:**:data-[slot=\"accordion-trigger\"]:rounded-t-2xl last:not-data-open:**:data-[slot=\"accordion-trigger\"]:rounded-b-2xl`,\r\n          variant === \"swiss\" && [\r\n            \"bg-popover border-x border-border/60 relative overflow-hidden\",\r\n\r\n            // Base state - closed items\r\n            \"data-closed:border-b data-closed:border-border/60\",\r\n\r\n            // First and last items\r\n            \"first:rounded-t-2xl first:border-t first:border-border/60\",\r\n            \"last:rounded-b-2xl last:border-b last:border-border/60\",\r\n\r\n            // Open state - full rounded with margins\r\n            \"data-open:rounded-2xl data-open:border data-open:border-primary/70 data-open:z-2\",\r\n            \"data-open:my-6 data-open:first:mt-0 data-open:last:mb-0\",\r\n\r\n            // Item before open item - gets bottom rounded corners\r\n            \"has-[+_[data-slot='accordion-item'][data-open]]:rounded-b-2xl\",\r\n            \"has-[+_[data-slot='accordion-item'][data-open]]:border-b!\",\r\n            \"has-[+_[data-slot='accordion-item'][data-open]]:border-border/60\",\r\n\r\n            // Item after open item - gets top rounded corners\r\n            \"data-open:[&+[data-slot='accordion-item']]:rounded-t-2xl\",\r\n            \"data-open:[&+[data-slot='accordion-item'][data-closed]]:border-t\",\r\n            \"data-open:[&+[data-slot='accordion-item']]:border-border/60\",\r\n\r\n            // Remove middle borders between closed items\r\n            \"data-closed:first:border-t\",\r\n            \"data-closed:last:border-b\",\r\n          ],\r\n          className\r\n        )}\r\n        {...rest}\r\n      />\r\n    </AccordionItemContext.Provider>\r\n  );\r\n}\r\n\r\ninterface AccordionHeaderProps\r\n  extends React.ComponentProps<typeof AccordionPrimitive.Header> {}\r\n\r\nfunction AccordionHeader({ className, ...props }: AccordionHeaderProps) {\r\n  return (\r\n    <AccordionPrimitive.Header\r\n      data-slot=\"accordion-header\"\r\n      className={cn(className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\ninterface AccordionTriggerProps\r\n  extends React.ComponentProps<typeof AccordionPrimitive.Trigger> {\r\n  icon?: (props: { open: boolean }) => React.ReactNode;\r\n}\r\n\r\nfunction AccordionTrigger({\r\n  className,\r\n  icon,\r\n  children,\r\n  ...props\r\n}: AccordionTriggerProps) {\r\n  const { open } = useAccordionItem();\r\n\r\n  return (\r\n    <AccordionHeader className=\"flex\">\r\n      <AccordionPrimitive.Trigger\r\n        data-slot=\"accordion-trigger\"\r\n        className={cn(\r\n          \"w-full text-left text-sm p-4 flex items-center cursor-pointer\",\r\n          `not-data-panel-open:hover:bg-accent/40 focus-visible:bg-accent/40 not-data-panel-open:dark:hover:bg-accent/55 dark:focus-visible:bg-accent/55`,\r\n          `data-disabled:cursor-not-allowed data-disabled:opacity-50 data-disabled:pointer-events-none`,\r\n          `focus-visible:outline-2 focus-visible:outline-ring focus-visible:outline-offset-2`,\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n\r\n        <span className=\"ml-auto\">\r\n          {icon ? (\r\n            icon({ open })\r\n          ) : (\r\n            <svg\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"w-4 h-4 transition-transform duration-200\"\r\n              aria-hidden=\"true\"\r\n              data-slot=\"accordion-trigger-icon\"\r\n            >\r\n              <path\r\n                d=\"M5 12H19\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              />\r\n              <path\r\n                d=\"M12 5V19\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"transition-transform duration-200\"\r\n                style={{\r\n                  transform: open ? \"rotateX(90deg)\" : \"none\",\r\n                  transformOrigin: \"12px 12px\",\r\n                }}\r\n              />\r\n            </svg>\r\n          )}\r\n        </span>\r\n      </AccordionPrimitive.Trigger>\r\n    </AccordionHeader>\r\n  );\r\n}\r\n\r\ninterface AccordionPanelProps\r\n  extends React.ComponentProps<typeof AccordionPrimitive.Panel> {}\r\n\r\nfunction AccordionPanel({\r\n  className,\r\n  hiddenUntilFound = false,\r\n  ...props\r\n}: AccordionPanelProps) {\r\n  const { open } = useAccordionItem();\r\n  const {\r\n    animationPreset = \"fade\",\r\n    transitionPreset = \"snappyOut\",\r\n    reduceMotion = false,\r\n  } = useAccordion();\r\n\r\n  const animationConfig = useMemo(() => {\r\n    if (reduceMotion) return animationPresets.none;\r\n\r\n    if (animationPreset) {\r\n      return animationPresets[animationPreset];\r\n    }\r\n\r\n    return animationPresets.fade;\r\n  }, [animationPreset, reduceMotion]);\r\n\r\n  const transitionConfig = useMemo(() => {\r\n    if (reduceMotion) return animationPresets.none;\r\n\r\n    if (transitionPreset) {\r\n      return transitionPresets[transitionPreset];\r\n    }\r\n\r\n    return transitionPresets.inOutExpo;\r\n  }, [transitionPreset, reduceMotion]);\r\n\r\n  return (\r\n    <AnimatePresence initial={false}>\r\n      {open && (\r\n        <AccordionPrimitive.Panel\r\n          data-slot=\"accordion-panel\"\r\n          hiddenUntilFound={hiddenUntilFound}\r\n          keepMounted\r\n          render={(renderProps) => {\r\n            return (\r\n              <motion.div\r\n                key=\"accordion-panel\"\r\n                initial={animationConfig.initial}\r\n                animate={animationConfig.animate}\r\n                exit={animationConfig.exit}\r\n                transition={transitionConfig}\r\n                style={{\r\n                  willChange: \"height, opacity, transform\",\r\n                  ...renderProps.style,\r\n                }}\r\n                className={cn(`overflow-hidden text-sm`, className)}\r\n              >\r\n                <div data-slot=\"accordion-panel-content\" className=\"p-4 pt-0.5\">\r\n                  {renderProps.children}\r\n                </div>\r\n              </motion.div>\r\n            );\r\n          }}\r\n          {...props}\r\n        />\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nexport {\r\n  Accordion,\r\n  AccordionItem,\r\n  AccordionHeader,\r\n  AccordionTrigger,\r\n  AccordionPanel,\r\n};\r\n",
      "type": "registry:ui",
      "target": "components/ui/accordion.tsx"
    }
  ]
}